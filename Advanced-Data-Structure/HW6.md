# HW6

### KD-Tree练习

1. 在构造 KD-Tree 的时候如何消除多点共垂直、共水平的退化情况？

   1. 随机化，可以在取分割轴时随机挑选几个点，取他们的中位数来作为分割轴，从而降低多点共线的影响。但可能会使树变高一些
   2. 可以挑选中位数附近的重复出现次数不超过一个常数的点作为分割点，从而防止其退化成链。
   3. 可以增加一个随机的维度，帮助分离共线的点。
   4. 可以对整个图做一个轻微的旋转（线性变换），从而使其不在同一条垂直或平行的线上。

   

2.  KD-Tree 相对与四分数、八分树，在什么情况下有什么优势？

   1. KD-Tree 是一种普适的方法，不止在二维、三维空间下可以使用，在更高的维度中同样可以改变分割的维度来适应新的情况。
   2. KD-Tree 在各要查询的点分布不均匀的情况下，有更高的查询效率，因为KD-Tree 是按照当前维度数据下的中位数来进行分割的，因此可以尽可能地保持平衡，树的高度较小。
   3. KD-Tree 的空间利用率也相对较高，因为他无需维护边界的信息，只要记录分割的轴的相关数据，因此在维度增高时，他维护的数据量是相对较小的。



### 实践

1. 建立 KD-Tree:

   

![A4D0AB8A24727DD33819DB9871909727](E:\TencentQQ\1229168058\FileRecv\MobileFile\A4D0AB8A24727DD33819DB9871909727.png)



2. 查找（20,20）：

   首先看根 D （10,29），在D右侧，看右子树； A（27,18），在A上侧，看左子树；N（25,27），在N左侧，看L；L（22,23），距离（20,20）有 sqrt(13) 的距离，回溯检测，发现没有更近的点，因此答案即为L。

